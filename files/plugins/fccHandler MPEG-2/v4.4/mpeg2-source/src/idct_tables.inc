;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; MMX and ISSE IDCTs, adapted from Xvid source code
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

align 16
	tg_1_16		dw  13036,  13036,  13036,  13036
	tg_2_16		dw  27146,  27146,  27146,  27146
	tg_3_16		dw -21746, -21746, -21746, -21746
	ocos_4_16	dw  23170,  23170,  23170,  23170

	rounder_0	dd 65536, 65536
	rounder_4	dd 0, 0
	rounder_1	dd 3597, 3597
	rounder_7	dd 512, 512
	rounder_2	dd 2260, 2260
	rounder_6	dd 512, 512
	rounder_3	dd 1203, 1203
	rounder_5	dd 120, 120

; Tables for MMX IDCT

tab_i_04_mmx	dw  16384,  16384,  16384, -16384
				dw  21407,   8867,   8867, -21407
				dw  16384, -16384,  16384,  16384
				dw  -8867,  21407, -21407,  -8867
				dw  22725,  12873,  19266, -22725
				dw  19266,   4520,  -4520, -12873
				dw  12873,   4520,   4520,  19266
				dw -22725,  19266, -12873, -22725

tab_i_17_mmx	dw  22725,  22725,  22725, -22725
				dw  29692,  12299,  12299, -29692
				dw  22725, -22725,  22725,  22725
				dw -12299,  29692, -29692, -12299
				dw  31521,  17855,  26722, -31521
				dw  26722,   6270,  -6270, -17855
				dw  17855,   6270,   6270,  26722
				dw -31521,  26722, -17855, -31521

tab_i_26_mmx	dw  21407,  21407,  21407, -21407
				dw  27969,  11585,  11585, -27969
				dw  21407, -21407,  21407,  21407
				dw -11585,  27969, -27969, -11585
				dw  29692,  16819,  25172, -29692
				dw  25172,   5906,  -5906, -16819
				dw  16819,   5906,   5906,  25172
				dw -29692,  25172, -16819, -29692

tab_i_35_mmx	dw  19266,  19266,  19266, -19266
				dw  25172,  10426,  10426, -25172
				dw  19266, -19266,  19266,  19266
				dw -10426,  25172, -25172, -10426
				dw  26722,  15137,  22654, -26722
				dw  22654,   5315,  -5315, -15137
				dw  15137,   5315,   5315,  22654
				dw -26722,  22654, -15137, -26722

; Tables for ISSE IDCT

tab_i_04_xmm	dw  16384,  21407,  16384,   8867
				dw  16384,   8867, -16384, -21407
				dw  16384,  -8867,  16384, -21407
				dw -16384,  21407,  16384,  -8867
				dw  22725,  19266,  19266,  -4520
				dw  12873,   4520, -22725, -12873
				dw  12873, -22725,   4520, -12873
				dw   4520,  19266,  19266, -22725

tab_i_17_xmm	dw  22725,  29692,  22725,  12299
				dw  22725,  12299, -22725, -29692
				dw  22725, -12299,  22725, -29692
				dw -22725,  29692,  22725, -12299
				dw  31521,  26722,  26722,  -6270
				dw  17855,   6270, -31521, -17855
				dw  17855, -31521,   6270, -17855
				dw   6270,  26722,  26722, -31521

tab_i_26_xmm	dw  21407,  27969,  21407,  11585
				dw  21407,  11585, -21407, -27969
				dw  21407, -11585,  21407, -27969
				dw -21407,  27969,  21407, -11585
				dw  29692,  25172,  25172,  -5906
				dw  16819,   5906, -29692, -16819
				dw  16819, -29692,   5906, -16819
				dw   5906,  25172,  25172, -29692

tab_i_35_xmm	dw  19266,  25172,  19266,  10426
				dw  19266,  10426, -19266, -25172
				dw  19266, -10426,  19266, -25172
				dw -19266,  25172,  19266, -10426
				dw  26722,  22654,  22654,  -5315
				dw  15137,   5315, -26722, -15137
				dw  15137, -26722,   5315, -15137
				dw   5315,  22654,  22654, -26722

; Some prediction constants

	mmx_7F7F7F7F7F7F7F7F	dq 7F7F7F7F7F7F7F7Fh
	mmx_0101010101010101	dq 0101010101010101h
	mmx_0002000200020002	dq 0002000200020002h
	mmx_0006000600060006	dq 0006000600060006h

